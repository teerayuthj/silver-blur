{"version":3,"file":"silver-blur.min.js","mappings":"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","sources":["webpack://SilverBlur/webpack/universalModuleDefinition","webpack://SilverBlur/./scripts/silver-blur.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SilverBlur\"] = factory();\n\telse\n\t\troot[\"SilverBlur\"] = factory();\n})(this, () => {\nreturn ","// Silver Price Blur System JavaScript\n// Handles market hours detection and price blurring for Bangkok timezone\n\nclass SilverPriceBlur {\n    constructor(options = {}) {\n        this.isInitialized = false;\n        this.blurCheckInterval = null;\n        this.currentBlurState = false;\n        this.holidayData = null;\n        \n        // Configuration options\n        this.config = {\n            holidayJsonUrl: options.holidayJsonUrl || './config/holidays.json',\n            cdnBaseUrl: options.cdnBaseUrl || null,\n            marketOpenHour: options.marketOpenHour || 8,\n            marketOpenMinute: options.marketOpenMinute || 0,\n            ...options\n        };\n        \n        // Holiday configuration will be loaded from external file\n        \n        // Price element IDs to blur\n        this.priceElements = [\n            'slvUsdBid',\n            'slvUsdOffer', \n            'slvKgBid',\n            'slvKgOffer',\n            'slvKgVat',\n            'slvUsdChg',\n            'slvKgChg'\n        ];\n        \n        // VAT label elements to blur\n        this.vatLabelElements = [\n            '.sv-vat-label'\n        ];\n        \n        // Timer container elements for overlay\n        this.timerContainers = [\n            '.sv-event-timer'\n        ];\n        \n        console.log('Silver Blur System: Initialized');\n    }\n    \n    // Get current Bangkok time\n    getBangkokTime() {\n        const now = new Date();\n        const bangkokTime = new Date(now.toLocaleString(\"en-US\", {timeZone: \"Asia/Bangkok\"}));\n        return bangkokTime;\n    }\n    \n    // Load holiday configuration from external JSON file\n    async loadHolidayData() {\n        const holidayUrl = this.config.cdnBaseUrl \n            ? `${this.config.cdnBaseUrl}/config/holidays.json`\n            : this.config.holidayJsonUrl;\n            \n        try {\n            console.log(`Silver Blur: Loading holidays from ${holidayUrl}`);\n            const response = await fetch(holidayUrl);\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            this.holidayData = await response.json();\n            console.log('Silver Blur: Holiday data loaded successfully');\n            return true;\n        } catch (error) {\n            console.warn('Silver Blur: Failed to load holiday data:', error.message);\n            console.warn('Silver Blur: Continuing with weekend-only blur');\n            this.holidayData = { holidays: {} };\n            return false;\n        }\n    }\n    \n    // Check if current date is a holiday\n    isHoliday(date = null) {\n        if (!this.holidayData || !this.holidayData.holidays) {\n            return false;\n        }\n        \n        const checkDate = date || this.getBangkokTime();\n        const year = checkDate.getFullYear().toString();\n        const month = String(checkDate.getMonth() + 1).padStart(2, '0');\n        const day = String(checkDate.getDate()).padStart(2, '0');\n        const dateKey = `${month}-${day}`;\n        \n        return this.holidayData.holidays[year] && this.holidayData.holidays[year][dateKey];\n    }\n    \n    // Get holiday information for a specific date\n    getHolidayInfo(date = null) {\n        if (!this.holidayData || !this.holidayData.holidays) {\n            return null;\n        }\n        \n        const checkDate = date || this.getBangkokTime();\n        const year = checkDate.getFullYear().toString();\n        const month = String(checkDate.getMonth() + 1).padStart(2, '0');\n        const day = String(checkDate.getDate()).padStart(2, '0');\n        const dateKey = `${month}-${day}`;\n        \n        if (this.holidayData.holidays[year] && this.holidayData.holidays[year][dateKey]) {\n            return this.holidayData.holidays[year][dateKey];\n        }\n        return null;\n    }\n    \n    // Check if market is open (prices available) - Only blur on weekends, holidays, and before market hours\n    isMarketOpen() {\n        const bangkokTime = this.getBangkokTime();\n        const dayOfWeek = bangkokTime.getDay(); // 0 = Sunday, 6 = Saturday\n        const currentHour = bangkokTime.getHours();\n        const currentMinute = bangkokTime.getMinutes();\n        \n        // Weekend check (Saturday = 6, Sunday = 0)\n        if (dayOfWeek === 0 || dayOfWeek === 6) {\n            console.log(`Silver Blur: Weekend detected (${dayOfWeek === 0 ? 'Sunday' : 'Saturday'}), price not available`);\n            return false;\n        }\n        \n        // Holiday check\n        const holidayInfo = this.getHolidayInfo(bangkokTime);\n        if (holidayInfo) {\n            console.log(`Silver Blur: Holiday detected (${holidayInfo.name}), price not available`);\n            return false;\n        }\n        \n        // Market hours check for weekdays\n        const currentTotalMinutes = currentHour * 60 + currentMinute;\n        const marketOpenMinutes = this.config.marketOpenHour * 60 + this.config.marketOpenMinute;\n        \n        if (currentTotalMinutes < marketOpenMinutes) {\n            console.log(`Silver Blur: Before market hours (opens at ${this.config.marketOpenHour.toString().padStart(2, '0')}:${this.config.marketOpenMinute.toString().padStart(2, '0')}), price not available`);\n            return false;\n        }\n        \n        // Weekdays (Monday-Friday) that are not holidays and after market opening time\n        console.log(`Silver Blur: Bangkok time ${bangkokTime.toLocaleTimeString('th-TH')}, Price AVAILABLE (weekday, not holiday, after ${this.config.marketOpenHour.toString().padStart(2, '0')}:${this.config.marketOpenMinute.toString().padStart(2, '0')})`);\n        return true;\n    }\n    \n    // Apply blur effect to price elements\n    applyBlur() {\n        if (this.currentBlurState) return; // Already blurred\n        \n        console.log('Silver Blur: Price not available - applying blur effect');\n        \n        // Blur individual price elements\n        this.priceElements.forEach(elementId => {\n            const element = document.getElementById(elementId);\n            if (element) {\n                element.classList.add('sv-blur-price', 'sv-price-blurred');\n            }\n        });\n        \n        // Blur VAT label elements\n        this.vatLabelElements.forEach(selector => {\n            const elements = document.querySelectorAll(selector);\n            elements.forEach(element => {\n                element.classList.add('sv-blur-price', 'sv-price-blurred');\n            });\n        });\n        \n        // Add overlay to timer containers\n        this.timerContainers.forEach(selector => {\n            const elements = document.querySelectorAll(selector);\n            elements.forEach(element => {\n                element.classList.add('sv-blur-overlay', 'sv-market-closed');\n            });\n        });\n        \n        this.currentBlurState = true;\n    }\n    \n    // Remove blur effect from price elements\n    removeBlur() {\n        if (!this.currentBlurState) return; // Already unblurred\n        \n        console.log('Silver Blur: Price available - removing blur effect');\n        \n        // Remove blur from price elements\n        this.priceElements.forEach(elementId => {\n            const element = document.getElementById(elementId);\n            if (element) {\n                element.classList.remove('sv-blur-price', 'sv-price-blurred');\n            }\n        });\n        \n        // Remove blur from VAT label elements\n        this.vatLabelElements.forEach(selector => {\n            const elements = document.querySelectorAll(selector);\n            elements.forEach(element => {\n                element.classList.remove('sv-blur-price', 'sv-price-blurred');\n            });\n        });\n        \n        // Remove overlay from timer containers\n        this.timerContainers.forEach(selector => {\n            const elements = document.querySelectorAll(selector);\n            elements.forEach(element => {\n                element.classList.remove('sv-blur-overlay', 'sv-market-closed');\n            });\n        });\n        \n        this.currentBlurState = false;\n    }\n    \n    // Check market status and update blur accordingly\n    updateBlurStatus() {\n        const marketOpen = this.isMarketOpen();\n        \n        if (marketOpen && this.currentBlurState) {\n            this.removeBlur();\n        } else if (!marketOpen && !this.currentBlurState) {\n            this.applyBlur();\n        }\n    }\n    \n    // Initialize the blur system\n    async init() {\n        if (this.isInitialized) {\n            console.log('Silver Blur: Already initialized');\n            return;\n        }\n        \n        console.log('Silver Blur: Starting initialization...');\n        \n        // Load holiday data first\n        await this.loadHolidayData();\n        \n        // Wait for DOM to be ready\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => this.startBlurSystem());\n        } else {\n            this.startBlurSystem();\n        }\n    }\n    \n    // Start the blur checking system\n    startBlurSystem() {\n        // Initial check\n        this.updateBlurStatus();\n        \n        // Set up interval to check every 30 seconds\n        this.blurCheckInterval = setInterval(() => {\n            this.updateBlurStatus();\n        }, 30000);\n        \n        this.isInitialized = true;\n        console.log('Silver Blur: System started, checking every 30 seconds');\n    }\n    \n    // Stop the blur system (cleanup)\n    stop() {\n        if (this.blurCheckInterval) {\n            clearInterval(this.blurCheckInterval);\n            this.blurCheckInterval = null;\n        }\n        \n        this.removeBlur();\n        this.isInitialized = false;\n        console.log('Silver Blur: System stopped');\n    }\n    \n    // Add a new holiday to the configuration\n    addHoliday(year, month, day, name, nameEn = '', type = 'custom') {\n        if (!this.holidayData || !this.holidayData.holidays) {\n            console.error('Silver Blur: Holiday data not loaded');\n            return false;\n        }\n        \n        const yearStr = year.toString();\n        const dateKey = `${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n        \n        if (!this.holidayData.holidays[yearStr]) {\n            this.holidayData.holidays[yearStr] = {};\n        }\n        \n        this.holidayData.holidays[yearStr][dateKey] = {\n            name: name,\n            name_en: nameEn || name,\n            type: type\n        };\n        \n        console.log(`Silver Blur: Added holiday - ${name} (${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')})`);\n        return true;\n    }\n    \n    // Remove a holiday from the configuration\n    removeHoliday(year, month, day) {\n        if (!this.holidayData || !this.holidayData.holidays) {\n            console.error('Silver Blur: Holiday data not loaded');\n            return false;\n        }\n        \n        const yearStr = year.toString();\n        const dateKey = `${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n        \n        if (this.holidayData.holidays[yearStr] && this.holidayData.holidays[yearStr][dateKey]) {\n            const holidayName = this.holidayData.holidays[yearStr][dateKey].name;\n            delete this.holidayData.holidays[yearStr][dateKey];\n            console.log(`Silver Blur: Removed holiday - ${holidayName} (${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')})`);\n            return true;\n        }\n        \n        console.warn(`Silver Blur: Holiday not found (${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')})`);\n        return false;\n    }\n    \n    // List all holidays for a specific year\n    listHolidays(year) {\n        if (!this.holidayData || !this.holidayData.holidays) {\n            console.error('Silver Blur: Holiday data not loaded');\n            return [];\n        }\n        \n        const yearStr = year.toString();\n        const holidays = this.holidayData.holidays[yearStr] || {};\n        \n        console.log(`=== Holidays for ${year} ===`);\n        Object.keys(holidays).sort().forEach(dateKey => {\n            const holiday = holidays[dateKey];\n            console.log(`${year}-${dateKey}: ${holiday.name} (${holiday.type})`);\n        });\n        console.log('=== End List ===');\n        \n        return holidays;\n    }\n    \n    // Manual test function for debugging\n    testTimeRange() {\n        const bangkokTime = this.getBangkokTime();\n        const holidayInfo = this.getHolidayInfo(bangkokTime);\n        const currentHour = bangkokTime.getHours();\n        const currentMinute = bangkokTime.getMinutes();\n        \n        console.log('=== Silver Blur Time Test ===');\n        console.log('Current Bangkok Time:', bangkokTime.toLocaleString('th-TH', {timeZone: 'Asia/Bangkok'}));\n        console.log('Day of Week:', ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][bangkokTime.getDay()]);\n        console.log('Is Holiday:', holidayInfo ? `Yes - ${holidayInfo.name}` : 'No');\n        console.log(`Market Hours: Opens at ${this.config.marketOpenHour.toString().padStart(2, '0')}:${this.config.marketOpenMinute.toString().padStart(2, '0')}`);\n        console.log(`Current Time: ${currentHour.toString().padStart(2, '0')}:${currentMinute.toString().padStart(2, '0')}`);\n        console.log('Blur Logic: Weekends + Holidays + Before Market Hours');\n        console.log('Market Status:', this.isMarketOpen() ? 'OPEN' : 'CLOSED');\n        console.log('Current Blur State:', this.currentBlurState ? 'BLURRED' : 'VISIBLE');\n        console.log('=== End Test ===');\n    }\n}\n\n// Global instance - can be reconfigured if needed\nwindow.silverBlur = window.silverBlur || new SilverPriceBlur();\n\n// Helper function to initialize with CDN\nwindow.initSilverBlurCDN = (cdnBaseUrl) => {\n    window.silverBlur = new SilverPriceBlur({\n        cdnBaseUrl: cdnBaseUrl\n    });\n    return window.silverBlur.init();\n};\n\n// Auto-initialize when script loads\ndocument.addEventListener('DOMContentLoaded', async () => {\n    // Wait a bit for the main silver price system to initialize\n    setTimeout(async () => {\n        await window.silverBlur.init();\n    }, 1000);\n});\n\n// Expose test function globally for console testing\nwindow.testSilverBlur = () => {\n    window.silverBlur.testTimeRange();\n};\n\n// Expose holiday management functions globally\nwindow.addHoliday = (year, month, day, name, nameEn = '', type = 'custom') => {\n    return window.silverBlur.addHoliday(year, month, day, name, nameEn, type);\n};\n\nwindow.removeHoliday = (year, month, day) => {\n    return window.silverBlur.removeHoliday(year, month, day);\n};\n\nwindow.listHolidays = (year) => {\n    return window.silverBlur.listHolidays(year);\n};\n\n// Set market opening time\nwindow.setMarketHours = (hour, minute = 0) => {\n    window.silverBlur.config.marketOpenHour = hour;\n    window.silverBlur.config.marketOpenMinute = minute;\n    console.log(`Silver Blur: Market hours updated to ${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`);\n    // Immediately update blur status\n    window.silverBlur.updateBlurStatus();\n};"],"names":["root","factory","exports","module","define","amd","this","SilverPriceBlur","constructor","options","isInitialized","blurCheckInterval","currentBlurState","holidayData","config","holidayJsonUrl","cdnBaseUrl","marketOpenHour","marketOpenMinute","priceElements","vatLabelElements","timerContainers","console","log","getBangkokTime","now","Date","toLocaleString","timeZone","loadHolidayData","holidayUrl","response","fetch","ok","Error","status","json","error","warn","message","holidays","isHoliday","date","checkDate","year","getFullYear","toString","dateKey","String","getMonth","padStart","getDate","getHolidayInfo","isMarketOpen","bangkokTime","dayOfWeek","getDay","currentHour","getHours","currentMinute","getMinutes","holidayInfo","name","toLocaleTimeString","applyBlur","forEach","elementId","element","document","getElementById","classList","add","selector","querySelectorAll","removeBlur","remove","updateBlurStatus","marketOpen","init","readyState","addEventListener","startBlurSystem","setInterval","stop","clearInterval","addHoliday","month","day","nameEn","type","yearStr","name_en","removeHoliday","holidayName","listHolidays","Object","keys","sort","holiday","testTimeRange","window","silverBlur","initSilverBlurCDN","async","setTimeout","testSilverBlur","setMarketHours","hour","minute"],"sourceRoot":""}